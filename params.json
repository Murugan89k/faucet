{"name":"Faucet","tagline":"","body":":version: 0.27a\r\n:copyright: 2015 `REANNZ <http://www.reannz.co.nz/>`_.  All Rights Reserved.\r\n\r\n.. meta::\r\n   :keywords: Openflow, Ryu, Faucet, VLAN, SDN\r\n\r\n======\r\nFaucet\r\n======\r\n\r\nFaucet is an Openflow controller for a layer 2 switch based on OpenvApour's Valve. It handles MAC learning and supports VLANs.  It is developed as an application for the `Ryu Open Flow Controller <http://osrg.github.io/ryu/>`_\r\n.\r\n\r\nIt supports:\r\n\r\n- OpenFlow v1.3\r\n- Multiple datapaths\r\n- Mixed tagged/untagged ports\r\n- Port statistics\r\n- Coexisting with other OpenFlow controllers\r\n\r\n=============\r\nConfiguration\r\n=============\r\n\r\nFaucet is configured with a YAML-based configuration file. A sample configuration file is supplied in ``faucet.yaml``.\r\n\r\nThe datapath ID may be specified as an integer or hex string (beginning with 0x).\r\n\r\nA port not explicitly defined in the YAML configuration file will be set down and will drop all packets.\r\n\r\n============\r\nInstallation\r\n============\r\nYou have run this as ``root`` or use ``sudo``\r\n\r\n``# pip install https://pypi.python.org/packages/source/r/ryu-faucet/ryu-faucet-0.27a.tar.gz``\r\n\r\n``# pip show ryu-faucet``\r\n\r\nUninstall\r\n---------\r\nTo Uninstall the package\r\n\r\n``# pip uninstall ryu-faucet``\r\n\r\n==========\r\nDeployment\r\n==========\r\n.. image:: src/docs/faucet_deployment.png\r\n\r\n=======\r\nRunning\r\n=======\r\n\r\nRun with ``ryu-manager`` (uses ``/etc/ryu/faucet/faucet.yaml`` as configuration by default):\r\n\r\n\r\n    ``# export FAUCET_CONFIG=/etc/ryu/faucet/faucet.yaml``\r\n    \r\n    ``# export GAUGE_CONFIG=/etc/ryu/faucet/gauge.conf``\r\n    \r\n    ``# export FAUCET_LOG_DIR=/var/log/ryu``\r\n    \r\n    ``# $EDITOR /etc/ryu/faucet/faucet.yaml``\r\n    \r\n    ``# ryu-manager --verbose faucet.py``\r\n\r\n\r\nTo find the location of ``faucet.py``, run \r\n\r\n``# pip show ryu-faucet`` to get Location path.  Then run:\r\n\r\n``# ryu-manager --verbose <Location_Path>/ryu_faucet/faucet.py``\r\n\r\n  Alternatively, if OF Controller is using a non-default port of 6633, for example 6653, then:\r\n\r\n``# ryu-manager --verbose  --ofp-tcp-listen-port 6653 <Location_Path>/ryu_faucet/faucet.py``\r\n\r\nOn MacOS X, for example, one would run this as:\r\n\r\n``#  ryu-manager --verbose /opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ryu_faucet/faucet.py``\r\n\r\nTo specify a different configuration file set the ``FAUCET_CONFIG`` environment variable.\r\n\r\nFaucet will log to ``/var/log/ryu/faucet/`` by default, this can be changed with the ``FAUCET_LOG_DIR`` environment variable.\r\n\r\nTo tell Faucet to reload its configuration file after you've changed it, simply send it a ``SIGHUP``:\r\n\r\n``# pkill -SIGHUP -f \"ryu-manager faucet.py\"``\r\n\r\n=======\r\nTesting\r\n=======\r\n\r\nFaucet has been tested against the following switches:\r\n\r\n    1. Open vSwitch v2.1+\r\n    2. Allied Telesis x510\r\n\r\nOn the Allied Telesis all vlans must be included in the vlan database config on the switch before they can be used by Openflow.\r\n\r\n================================================\r\nBuying Commerical Switches supporting ryu-faucet\r\n================================================\r\n\r\nAllied Telesis\r\n--------------\r\n\r\n Allied Telesis sells their products via distributors and resellers. To order in USA call `ProVantage <http://www.provantage.com/allied-telesis-splx10~7ALL912L.htm>`.  To find a sales office near you, visit `Allied Telesis <http://www.AlliedTelesis.com>`\r\n\r\n\r\nRunning with another controller\r\n-------------------------------\r\n\r\nIt is possible to use Faucet to add layer 2 features to another OpenFlow controller by running Faucet in parallel with that controller. Faucet will only ever modify/remove OpenFlow rules added by itself (identified by a special OpenFlow cookie unique to Faucet), this means the rules installed by the other controller/application will be left untouched.\r\n\r\nSimply add Faucet as a second primary OpenFlow controller to your datapath element. You will also probably need to tweak the OpenFlow priority values Faucet uses by modifying `priority_offset` in the configuration file so that rules installed by the other controller don't override those installed by Faucet.\r\n\r\n=====\r\nGauge\r\n=====\r\n\r\nGauge is the monitoring application. It polls each port for statistics and periodically dumps the flow table for statistics.\r\n\r\nGauge reads the faucet yaml configuration files of the datapaths it monitors. Which datapaths to monitor is provided in a configuration file containing a list of faucet yaml files, one per line.\r\n\r\nThe list of faucet yaml config is by default read from ``/etc/ryu/faucet/gauge.conf``. This can be set with the ``GAUGE_CONFIG`` environment variable. Exceptions are logged to the same file as faucet's exceptions.\r\n\r\nGauge is run with ``ryu-manager``:\r\n\r\n``$ $EDITOR /etc/ryu/faucet/gauge.conf``\r\n\r\n``$ ryu-manager gauge.py``\r\n\r\n=======\r\nSupport\r\n=======\r\nMailing list info goes here\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}